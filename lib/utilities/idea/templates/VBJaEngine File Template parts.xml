<templateSet group="VBJaEngine File Template parts">
  <template name="AnimatedInGameEntity" value="//---------------------------------------------------------------------------------------------------------&#10;// &#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;INCLUDES&#10;//---------------------------------------------------------------------------------------------------------&#10;&#10;#include &lt;libgccvb.h&gt;&#10;#include &lt;AnimatedInGameEntity.h&gt;&#10;#include &lt;$MAPTYPE$AnimatedSprite.h&gt;&#10;&#10;&#10;//---------------------------------------------------------------------------------------------------------&#10;// &#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DECLARATIONS&#10;//---------------------------------------------------------------------------------------------------------&#10;&#10;extern BYTE $IMG$Tiles[];&#10;extern BYTE $IMG$Map[];&#10;&#10;&#10;//---------------------------------------------------------------------------------------------------------&#10;//&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DEFINITIONS&#10;//---------------------------------------------------------------------------------------------------------&#10;&#10;// a function which defines the frames to play&#10;AnimationFunctionROMDef $NAME$_DUMMY_ANIM =&#10;{&#10;&#9;// number of frames of this animation function&#10;&#9;1,&#10;&#10;&#9;// frames to play in animation&#10;&#9;{0},&#10;&#10;&#9;// number of cycles a frame of animation is displayed&#10;&#9;8,&#10;&#10;&#9;// whether to play it in loop or not&#10;&#9;false,&#10;&#10;&#9;// method to call on function completion&#10;&#9;NULL,&#10;&#10;&#9;// function's name&#10;&#9;&quot;Dummy&quot;,&#10;};&#10;&#10;// an animation definition&#10;AnimationDescriptionROMDef $NAME$_ANIM =&#10;{&#10;&#9;// animation functions&#10;&#9;{&#10;&#9;&#9;(AnimationFunction*)&amp;$NAME$_DUMMY_ANIM,&#10;&#9;&#9;NULL,&#10;&#9;}&#10;};&#10;&#10;CharSetROMDef $NAME$_CH =&#10;{&#10;    // number of chars, depending on allocation type:&#10;    // __ANIMATED_SINGLE: number of chars of a single animation frame (cols * rows)&#10;    // __ANIMATED_SHARED: number of chars of a single animation frame (cols * rows)&#10;    // __ANIMATED_SHARED_COORDINATED: number of chars of a single animation frame (cols * rows)&#10;    // __ANIMATED_MULTI: sum of chars of all animation frames&#10;    // __NOT_ANIMATED: number of chars of whole image&#10;    4,&#10;&#10;    // allocation type&#10;    $ATYPE$,&#10;&#10;    // char definition&#10;    $IMG$Tiles,&#10;};&#10;&#10;TextureROMDef $NAME$_TX =&#10;{&#10;    // charset definition&#10;    (CharSetDefinition*)&amp;$NAME$_CH,&#10;&#10;    // bgmap definition&#10;    $IMG$Map,&#10;&#10;    // cols (max 64)&#10;    $FRAMECOLS$,&#10;&#10;    // rows (max 64)&#10;    $FRAMEROWS$,&#10;&#10;    // number of frames&#10;    $FRAMENUM$,&#10;&#10;    // palette number&#10;    $PALETTE$&#10;};&#10;&#10;$MAPTYPE$SpriteROMDef $NAME$_SPRITE =&#10;{&#10;&#9;// sprite's type&#10;&#9;__TYPE($MAPTYPE$AnimatedSprite),&#10;&#10;&#9;// texture definition&#10;&#9;(TextureDefinition*)&amp;$NAME$_TX,&#10;&#10;&#9;// displacement (x, y, z) (in pixels)&#10;&#9;{FTOFIX19_13($DISPX$), FTOFIX19_13($DISPY$), FTOFIX19_13($DISPZ$)},&#10;&#10;&#9;// bgmap mode (WRLD_BGMAP, WRLD_AFFINE, WRLD_OBJ or WRLD_HBIAS)&#10;&#9;WRLD_$MODE$,&#10;&#9;&#10;&#9;// display mode (WRLD_ON, WRLD_LON or WRLD_RON)&#10;&#9;WRLD_$DISPMODE$,&#10;};&#10;&#10;$MAPTYPE$SpriteROMDef* const $NAME$_SPRITES[] =&#10;{&#10;&#9;&amp;$NAME$_SPRITE,&#10;&#9;NULL&#10;};&#10;&#10;AnimatedInGameEntityROMDef $NAME$_AG =&#10;{&#10;    {&#10;        {&#10;            __TYPE($CLASS$),&#10;            (SpriteROMDef**)$NAME$_SPRITES,&#10;        },&#10;&#10;        // collision detection gap (up, down, left, right)&#10;        {$GAPU$, $GAPD$, $GAPL$, $GAPR$},&#10;&#10;        // in game type&#10;        $IGTYPE$,&#10;&#10;        // width&#10;        // if 0, width and height will be inferred from the texture's size&#10;    &#9;$WIDTH$,&#10;&#10;    &#9;// height&#10;        // if 0, width and height will be inferred from the texture's size&#10;    &#9;$HEIGHT$,&#10;    &#9;&#10;    &#9;// depth&#10;        $DEPTH$&#10;    },&#10;&#10;    // pointer to the animation definition for the item&#10;    (AnimationDescription*)&amp;$NAME$_ANIM,&#10;&#10;    // initial animation&#10;    &quot;Dummy&quot;,&#10;};" shortcut="ENTER" description="AnimatedInGameEntity definition" toReformat="false" toShortenFQNames="true">
    <variable name="IMG" expression="" defaultValue="&quot;ImageFilename&quot;" alwaysStopAt="true" />
    <variable name="NAME" expression="groovyScript(&quot;return _1.toUpperCase()&quot;, snakeCase(IMG))  " defaultValue="" alwaysStopAt="true" />
    <variable name="MODE" expression="enum(&quot;BGMAP&quot;, &quot;AFFINE&quot;, &quot;OBJ&quot;,  &quot;HBIAS&quot;)" defaultValue="" alwaysStopAt="true" />
    <variable name="ATYPE" expression="enum(&quot;__ANIMATED_SINGLE&quot;, &quot;__ANIMATED_SHARED&quot;, &quot;__ANIMATED_SHARED_COORDINATED&quot;, &quot;__ANIMATED_MULTI&quot;, &quot;__NOT_ANIMATED&quot;) " defaultValue="" alwaysStopAt="true" />
    <variable name="FRAMECOLS" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
    <variable name="FRAMEROWS" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
    <variable name="FRAMENUM" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
    <variable name="PALETTE" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
    <variable name="DISPX" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="DISPY" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="DISPZ" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="MAPTYPE" expression="groovyScript(&quot;if (_1 == 'OBJ') return 'Object' else return 'Bgmap'&quot;, MODE)" defaultValue="" alwaysStopAt="false" />
    <variable name="DISPMODE" expression="enum(&quot;ON&quot;, &quot;LON&quot;, &quot;RON&quot;)" defaultValue="" alwaysStopAt="true" />
    <variable name="CLASS" expression="" defaultValue="&quot;AnimatedInGameEntity&quot;" alwaysStopAt="true" />
    <variable name="GAPU" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="GAPD" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="GAPL" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="IGTYPE" expression="enum(&quot;kSolid&quot;, &quot;kTopSolid&quot;, &quot;kNotSolid&quot;, &quot;kHit&quot;)" defaultValue="" alwaysStopAt="true" />
    <variable name="GAPR" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="WIDTH" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="HEIGHT" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
    <variable name="DEPTH" expression="" defaultValue="&quot;8&quot;" alwaysStopAt="true" />
    <context>
      <option name="OTHER" value="true" />
    </context>
  </template>
</templateSet>